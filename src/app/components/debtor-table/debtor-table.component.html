<div>
  <table
    (matSortChange)="onSortChange($event)"
    class="table_mem"
    mat-table
    [dataSource]="dataSource"
    matSort
  >
    <!-- ID Column -->
    <ng-container matColumnDef="firstName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td (click)="onDebtorClick($event, row)" mat-cell *matCellDef="let row">
        <div
          [ngClass]="selectedDebtor === row.firstName ? 'selectedDebtor' : ''"
          style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden"
          class="table-row d-flex align-items-center gap-1"
        >
          {{ row.firstName }} {{ row.lastName }}
          @if (selectedDebtor===row.firstName) {
          <i class="material-icons">chevron_right</i>
          }
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="lastName">
      <th class="d-none" mat-header-cell *matHeaderCellDef mat-sort-header>
        Name
      </th>
      <td class="d-none" mat-cell *matCellDef="let row">
        <div class="table-row d-flex align-items-center">
          {{ row.firstName }} {{ row.lastName }}
        </div>
      </td>
    </ng-container>

    <!-- Progress Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
      <td mat-cell *matCellDef="let row">
        <div class="table-row d-flex align-items-center gap-1">
          {{ row.email }}
          <i style="cursor: pointer" class="material-icons text-primary"
            >link</i
          >
        </div>
      </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="phoneNumber">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Phone Number</th>
      <td mat-cell *matCellDef="let row">
        <div class="table-row d-flex align-items-center">
          {{ row.phoneNumber }} &nbsp;
          <i style="font-size: 15px;" class="material-icons text-success">verified</i>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="isActive">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
      <td mat-cell *matCellDef="let row">
        <div class="table-row d-flex align-items-center">
          @if (row.isActive==="active") {
          <div class="active-status">Active</div>
          }@else {
          <div class="inactive-status">Inactive</div>
          }
        </div>
      </td>
    </ng-container>

    <tr
      mat-header-row
      *matHeaderRowDef="displayedColumns"
      class="header-row"
    ></tr>
    <tr
      mat-row
      class="example-element-row"
      *matRowDef="let row; columns: displayedColumns"
      class="data-row"
    ></tr>
  </table>

  <mat-paginator
    (page)="onPageChange($event)"
    [pageSizeOptions]="[5]"
  ></mat-paginator>
</div>
